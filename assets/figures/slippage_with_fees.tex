\begin{tikzpicture}[]
    
    \draw[samples = 200, color=blue, scale=1, xshift = 0cm, yshift = 0cm, domain=0.9:4.55, smooth, variable=\x] plot ({\x}, {4/\x}) node[right, below] {\scriptsize $k$} ;       
    
  	\draw[->] (0,0)--(5,0) node[below,midway]{} node[below, midway, yshift = -0.5cm] {\small{$X$-tokens in LP}} ;
    \draw[->] (0,0)--(0,5) node[above,midway,rotate=90]{} node[above] {\small{$Y$-tokens in LP}};  
  
  	% Before Swap
    \draw[dotted, thick] (1.3,3)--(0,3) node[left]{\scriptsize $y$};
    \draw[dotted, thick] (1.3,3)--(1.3,0) node[below, yshift = -0.08cm]{\scriptsize $x$};
	\draw[fill=black] (1.3,3) circle(2pt);
	
	% After Swap
	\uncover<1 | handout:0>{
		\draw[->, red] (1.4, 0.1) -- (2.9, 0.1) node [midway, above] {\scriptsize{$\Delta x$}};
	    \draw[dotted, thick] (3,1.333)--(3,0) node[below]{\scriptsize $x+\Delta x$};
	    \draw[fill=black] (3,1.333) circle(2pt);
		\draw[->, red] (0.1, 2.9) -- (0.1, 1.4) node [midway, right] {\scriptsize{$\Delta y$}};
	    \draw[dotted, thick] (3,1.333)--(0,1.333) node[left]{\scriptsize $y'$};	

	}
	
	% Prices without fees
	\uncover<1 | handout:0>{
		% Effective swap price without fees
		\draw[-, thick] (1.3,3) -- (3,1.333) node[midway, right]{\scriptsize $\overline{P_x}$};
	}
	\uncover<1,4->{
		% Initial Pool ratio
		\draw[-, thick, strongmint] (1,3.692) -- (1.6,2.308) node[midway, left, yshift=.2cm]{\scriptsize $P_x$};
		\draw[fill=black] (1.3,3) circle(2pt);

		% Pool ratio after trade without fees		
		\draw[-, thick, softanthracite] (2.4,1.5996) -- (3.6,1.0664) node[midway, left, yshift=-0.3cm, xshift = 0]{\scriptsize $P'_x$};
	    \draw[fill=black] (3,1.333) circle(2pt);		
	}

	% Prices with fees
	\uncover<2->{
		% k'
		\draw[samples = 200, color=blue, scale=1, xshift = 0cm, yshift = 0cm, domain=1.08:4.55, smooth, variable=\x] plot ({\x}, {4.7/\x}) node[right, above] {\scriptsize{$k'_\rho$}};

		% new token reserves
		\draw[dotted,thick] (3,1.57) -- (3,0) node[below]{\scriptsize{${x+\Delta x}$}};
		\draw[dotted,thick] (3,1.57) -- (0,1.57) node[left]{\scriptsize{$y'_\rho$}};
		\draw[->, red] (0.1, 2.9) -- (0.1, 1.67) node [midway, right] {\scriptsize{$\Delta y_\rho$}};

		% Effective swap price with fees
		\draw[-, thick] (1.3,3) -- (3,1.57) node[midway, right]{\scriptsize $\overline{P_{x,\rho}}$};
		\draw[fill=black] (3,1.57) circle(2pt);	
	}
	\uncover<3->{
		% Pool ratio after trade with fees
		\draw[-, thick, softanthracite] (2.4,1.884) -- (3.6,1.256) node[midway, right, yshift=0.15cm]{\scriptsize $P'_{x,\rho}$};
		\draw[fill=black] (3,1.57) circle(2pt);	

	}
	\uncover<4->{
		\draw[-, thick] (1.3,3) -- (3,1.333) node[midway, left, yshift = -.25cm, xshift=-.1cm]{\scriptsize $\overline{P_x}$};
	}	
	

\end{tikzpicture}
