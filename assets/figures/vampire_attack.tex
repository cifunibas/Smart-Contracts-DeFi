\begin{tikzpicture}
	
	% Pool A
	\draw [thick] (-5,-1.5) -- (-3,-1.5);
	\draw [thick](-3,-1.5) -- (-3, 0.6);
	\draw [thick](-5,-1.5) -- (-5, 0.6);
	\node [below=0.8cm] at (-4,-0.8) {\scriptsize{Liquidity Pool}};

	% Reserves Pool A
	\uncover<1-7>{
		\draw [fill=highlight] (-5,-1.5) rectangle (-4,0.25);
		\draw [fill=strongmint] (-4,-1.5) rectangle (-3,0.25);
		\node at (-4.5,-1.1) {\scriptsize{X}};
		\node at (-3.5,-1.1) {\scriptsize{Y}};
	}


	% LPs
	\uncover<1-4>{
		\node at (0,-0.5) {\includegraphics[scale=0.03]{../assets/images/agents/agent_left}};
		\node at (-0.5,-0.8) {\includegraphics[scale=0.03]{../assets/images/agents/agent_left}};
		\node at (0.5,-0.8) {\includegraphics[scale=0.03]{../assets/images/agents/agent_left}};
	}
	\node [below=0.8cm] at (0,-0.8) {\scriptsize{Liquidity Providers}};
	\node at (0, 0.5) {\includegraphics[scale = 0.05]{../assets/images/pie-chart}};	

	% Liquidity Provision 
	\uncover<2-7>{
		\draw[->, thick, highlight] (-1.2, -1.2) -- (-2.6, -1.2) node [midway, below] {\scriptsize{X}};
		\draw[->, thick, strongmint] (-1.2, -0.9) -- (-2.6, -0.9) node [midway, above]{\scriptsize{Y}};
	}
	\uncover<3-7>{
		\draw[->] (-2.6, -0.2) -- (-1.2, -0.2) node [midway, above] {\scriptsize{LP Token}};
	}
	
	% Vampire Protocol
	\uncover<4->{
		\draw [thick] (3,-1.5) -- (5,-1.5);
		\draw [thick](3,-1.5) -- (3, 0.6);
		\draw [thick](5,-1.5) -- (5, 0.6);
		\node [below=0.8cm] at (4,-0.8) {\scriptsize{Vampire Protocol}};	
		\node [below=1.2cm] at (4,-0.8) {\includegraphics[scale=0.04]{../assets/images/vampir.png}};	
	}
	
	% Attract Liquidity: Stake LP Tokens
	\uncover<5->{
		% Turn attention of agents
		\node at (0,-0.5) {\includegraphics[scale=0.03]{../assets/images/agents/agent_right}};
		\node at (-0.5,-0.8) {\includegraphics[scale=0.03]{../assets/images/agents/agent_right}};
		\node at (0.5,-0.8) {\includegraphics[scale=0.03]{../assets/images/agents/agent_right}};
	}
	\uncover<5-7>{
		% Stake LP Tokens
		\draw[->] (1.2, -0.2) -- (2.6, -0.2) node [midway, above] {\scriptsize{LP Token}};		
	}
		
	%% Pay staking rewards
	\uncover<6-7>{
		\draw[->, anthracite] (2.6, -1.05) -- (1.2, -1.05) node [midway, above] {\scriptsize{VP Rewards}};	
	}
	
	% Migrate Liquidity
	\uncover<7-8>{
		% Vampire sends LP Token to Liquidity Pool
		\draw[->, thick, dotted] (4,0.3) arc (30:150:4.6cm) node [midway, above] {\scriptsize{LP Token}};
	}
	\uncover<8>{
		% Vampire gets corresponding pool reserves
		\draw[<-, thick, dotted, red] (4,1) arc (30:150:4.6cm) node [midway, above] {\scriptsize{(X,Y) Reserves}};
		% Highlight reserve changes
		\draw[-, dotted, thick, red] (-5, 0.25) -- (-3, 0.25) node [midway, above] {};
		\draw[->, dotted, thick, red] (-4, 0.1) -- (-4, -0.9) node [midway, above] {};
		\draw[->, dotted, thick, red] (5.2, -1.5) -- (5.2, -0.25) node [midway, above] {};

	}
	\uncover<8->{
		% New pool reserves original pool
		\draw [fill=highlight] (-5,-1.5) rectangle (-4,-1);
		\draw [fill=strongmint] (-4,-1.5) rectangle (-3,-1);
		\node at (-4.5,-1.25) {\scriptsize{X}};
		\node at (-3.5,-1.25) {\scriptsize{Y}};
		% New pool reserves vampire
		\draw [fill=highlight] (3,-1.5) rectangle (4,-0.25);
		\draw [fill=strongmint] (4,-1.5) rectangle (5,-0.25);
		\node at (3.5,-1.25) {\scriptsize{X}};
		\node at (4.5,-1.25) {\scriptsize{Y}};

	}
	\uncover<9->{
		\draw[->, red] (2.6, -0.2) -- (1.2, -0.2) node [midway, above] {\scriptsize{New LP Token}};
		\draw[->, anthracite] (2.6, -1.05) -- (1.2, -1.05) node [midway, above] {\scriptsize{VP Rewards}};		
	}
\end{tikzpicture}