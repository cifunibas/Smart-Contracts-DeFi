\begin{lstlisting}[language=Solidity]
		if (_isLegit && bidToCheck.deposit >= _bidAmount) {
			// Bid is valid
			bool success = updateBid(msg.sender, _bidAmount);
			if(success) {
				// Bid is new highest bid
				refund -= _bidAmount;
			}
		}
		// Prevent re-claiming the same deposit
		bidToCheck.sealedBid = bytes32(0);
	}
	if (refund > 0) {
		payable(msg.sender).transfer(refund);
	}
}
\end{lstlisting}