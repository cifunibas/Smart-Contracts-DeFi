\begin{lstlisting}[language=Solidity]
contract SimpleToken {...

  // 4. Functions
  function transfer(address _to, uint256 _value) public returns (bool success) {
     require(balances[msg.sender] >= _value);
     balances[msg.sender] -= _value;
     balances[_to] += _value;
     emit Transfer(msg.sender, _to, _value); 
     return true;
  }
    
...}
\end{lstlisting}